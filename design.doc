This is the design document for CSCE 315.
8/30/2013
Authors:
Patrick Rock
Juaune Burgess
Ben Creighton

Section 1 Purpose:
The purpose of this project is to create a simple database system and become familiar with version control systems.
We have chosen to use git for version control. 
The app we have chosen to make for this project is a tool to help maximize procrastination. The goal is to schedule activities during freetime which would 
otherwise be wasted by the user. The activities are selected randomly by the application to fill unused time. The system
will use a super-uuber simplistic database to manage the different users and the activities that they are involved in.


Sectction 2 High Level Entities:

App:
  the app user interface

Database Engine:
  The module does the actual manipulation of the database file based on the instructions recieved from the parser. It consists of a single class object.

Lexer
  This module tokenizes a string of SQL commands from the user application into tokens that can be used by the parser.
  A token is the simplest unit in a language with lexical significance.

Parser
  This module checks the simplistic SQL syntax of the token stream and then calls the Database Engine functions to exectue
  the commands. The parser uses a recursive descent technique and calls DB engine code as a side effect. 

Data Model
  All data is stored as relationships. Relationships are tuples of values. We need to decide how to represent a relation
  and a table in text for storage.
  
Section 3 Low Level Design:

App design:

Engine design:
  Class DB_Engine
    Members:
      Open_Files - a vector containing all of the file descriptors opened by the database engine.
    Functions:
      Open(String file_location) - Opens a database file at a given location
      Close(int fd) - Takes a file descriptor and closes the database file
      Write(Relation relation_name) - Creates a new relation database file
      Show(Relation relation_name) - Returns a View showing a given relation
      Show(Entity_Set table_name) - Returns a View showing a given entity set
      Create(Entity_Set table_name, void* args) - Creates a blank table or entity schema
      Update(Entity_Set table_name, Tuple row, int column) - Updates a given column in an entity 
      Insert(Entity_Set table_name, void* args) - Inserts a new entity into a table
      Delete(Relation relation_name) - Deletes an entire relation
      Delete(Relation relation_name, Tuple tuple) - Deletes a tuple from a relation
      Select(Relation relation_name, void* args) - Returns a Relation containing the elements of the relation desired
      Project(Relation relation_name, Entity attributes) - Returns the projection of a relation over a set of attributes
      Rename(Relation relation_name) - Renames a relation or entity set
      Operator+(Relation relation_name1, Relation relation_name2) - Returns the union of two relations
      Operator-(Relation relation_name1, Relation relation_name2) - Returns the difference between two relations
      Operator*(Relation relation_name1, Relation relation_name2) - Returns the cartesian product of two relations

Lexer:
  The lexer creates a token stream which can be scanned through a token at a time. The token stream can be backed up.

Parser:
  The parser performs syntax directed translation. Every production rule in the SQL grammar has a corresponding
  function in the parser class which recognizes it.

Data Model:
  We could store tables and relations in JSON.  

Section 4 Benefits, assumptions, risks/issues:

Benefits:
The database is very simple. It should be easy to build and maintain. The app will help with procrastination.
This should reduce stress and increase the happieness of users. Stress is the silent killer after all.

Assumptions:
Assuming that the simplistic database will be robust enough to meet the needs of our application.
We are assuming that we will be able to invent activities for our procrastination app.
...

Risks:
The data is stored in plaintext. This makes the database insecure and vunerable to attack. The app has the potential
to ruin your GPA.
